{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,WAGA,MAAMC,EAAO,CACXC,WAAYC,SAASC,cAAc,uBACnCC,UAAWF,SAASC,cAAc,sBAClCE,OAAQH,SAASC,cAAc,wBAC/BG,OAAQJ,SAASC,cAAc,0BAiBjC,SAASI,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GAWvC,OAVuB,IAAIC,SAAQ,CAACC,EAAKC,KACtCC,YAAW,KACLN,EACFI,EAAI,CAACG,SAAAT,EAAUU,MAAAT,IAEfM,EAAI,CAACE,SAAAT,EAAUU,MAAAT,GAAO,GAExBA,EAAM,IAIPU,MAAK,EAACF,SAAEA,EAAQC,MAAEA,MACjBE,EAAAtB,GAASuB,OAAOC,QAAQ,uBAAqBL,QAAiBC,MAAU,IAEzEK,OAAM,EAACN,SAAEA,EAAQC,MAAEA,MAClBE,EAAAtB,GAASuB,OAAOG,QAAQ,sBAAoBP,QAAeC,MAAU,G,CA/B3ElB,EAAKM,OAAOmB,iBAAiB,SAE7B,SAAkBC,GAChBA,EAAEC,iBACF,MAAM1B,EAAa2B,OAAO5B,EAAKC,WAAW4B,OACpCxB,EAASuB,OAAO5B,EAAKK,OAAOwB,OAC5BC,EAAOF,OAAO5B,EAAKI,UAAUyB,OAEnC,IAAK,IAAIE,EAAI,EAAGA,GAAK1B,EAAQ0B,GAAK,EAAG,CAEnCxB,EAAcwB,EADE9B,EAAc6B,GAAQC,EAAI,G","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  firstDelay: document.querySelector('input[name=\"delay\"]'),\n  stepDelay: document.querySelector('input[name=\"step\"]'),\n  amount: document.querySelector('input[name=\"amount\"]'),\n  submit: document.querySelector('button[type=\"submit\"]'),\n};\n\nrefs.submit.addEventListener('click', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  const firstDelay = Number(refs.firstDelay.value);\n  const amount = Number(refs.amount.value);\n  const step = Number(refs.stepDelay.value);\n\n  for (let i = 1; i <= amount; i += 1) {\n    let delayMath = firstDelay + (step * (i - 1));\n    createPromise(i, delayMath);\n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  const resultPromise = new Promise((res, rej) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        res({position, delay});\n      } else {\n        rej({position, delay});\n      }\n    },delay);\n  });\n  \n return resultPromise\n    .then(({ position, delay }) => {\n      Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n}\n\n\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$refs","firstDelay","document","querySelector","stepDelay","amount","submit","$47d4ff9957288465$var$createPromise","position1","delay1","shouldResolve","Math","random","Promise","res","rej","setTimeout","position","delay","then","$parcel$interopDefault","Notify","success","catch","failure","addEventListener","e","preventDefault","Number","value","step","i"],"version":3,"file":"03-promises.e018bd0d.js.map"}